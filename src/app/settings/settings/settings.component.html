<div class="settings-container">
    <h2>Change Password</h2>
  
    <form [formGroup]="passwordForm" (ngSubmit)="onSubmit()">
      <!-- Current Password -->
      <div class="form-group mb-3">
        <label for="currentPassword">Current Password:</label>
        <input type="password" id="currentPassword" class="form-control" formControlName="currentPassword" (blur)="onFieldChange()">
        <div class="text-danger">
            @if(f['currentPassword'].touched && f['currentPassword'].errors?.['required'])
            {<small>Current password is required.</small>}
            @else if (f['currentPassword'].touched && f['currentPassword'].errors?.['minlength']) 
            {<small >Password must be at least 10 characters long.</small>}
            @else if (f['currentPassword'].touched && f['currentPassword'].errors?.['pattern']) 
            {<small>Password must contain at least one uppercase letter, one number, and one special character.</small>}
        </div>
      </div>
      
      <div class="form-group mb-3">
        <label for="newPassword">New Password:</label>
        <input type="password" id="newPassword" class="form-control" formControlName="newPassword" (blur)="onFieldChange()">
        <div class="text-danger">
            @if (f['newPassword'].touched && f['newPassword'].errors?.['required'])
            {<small>New password is required.</small>}
            @else if (f['newPassword'].touched && f['newPassword'].errors?.['minlength']) 
            {<small>Password must be at least 10 characters long.</small>}
            @else if (f['newPassword'].touched && f['newPassword'].errors?.['pattern']) 
            {<small>Password must contain at least one uppercase letter, one number, and one special character.</small>} 
        </div>
      </div>
      
      <div class="form-group mb-3">
        <label for="confirmPassword">Confirm Password:</label>
        <input type="password" id="confirmPassword" class="form-control" formControlName="confirmPassword" (blur)="onFieldChange()">
        <div class="text-danger">
            @if (f['confirmPassword'].touched && f['confirmPassword'].errors?.['required']) 
            {<small>Confirm password is required.</small>}
            @else if (f['confirmPassword'].touched && f['confirmPassword'].errors?.['minlength']) 
            {<small>Password must be at least 10 characters long.</small>}
            @else if (f['confirmPassword'].touched && f['confirmPassword'].errors?.['pattern']) 
            {<small *ngIf="">Password must contain at least one uppercase letter, one number, and one special character.</small>}
            @else if (f['confirmPassword'].touched && f['confirmPassword'].errors?.['mismatch']) 
            {<small *ngIf="">Passwords do not match.</small>}
        </div>
      </div>      
  
      <button type="submit" [disabled]="passwordForm.invalid">Change Password</button>
    </form>
  
    <div *ngIf="isPasswordChanged" class="success-message">
      Password has been successfully changed.
    </div>
  </div>
  